{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Electron-Scripts Configuration",
  "type": "object",
  "properties": {
    "$schema": {
      "type": "string"
    },
    "download": {
      "$ref": "#/definitions/downloadOptions"
    },
    "compilation": {
      "$ref": "#/definitions/compilationOptions"
    }
  },
  "definitions": {
    "downloadOptions": {
      "type": "object",
      "description": "Electron Download Options",
      "properties": {
        "mirror": {
          "type": "string",
          "description": "Electron Download Mirror Url"
        }
      }
    },
    "compilationOptions": {
      "type": "object",
      "description": "编译配置",
      "properties": {
        "asar": {
          "$ref": "#/definitions/asarOptions"
        },
        "mainProcess": {
          "$ref": "#/definitions/mainProcessOptions"
        },
        "rendererProcess": {
          "$ref": "#/definitions/rendererProcessOptions"
        }
      }
    },
    "asarOptions": {
      "oneOf": [
        {
          "type": "boolean",
          "description": "是否将压缩成asar"
        },
        {
          "type": "object",
          "properties": {
            "unpack": {
              "type": "string",
              "description": "不压缩的文件"
            },
            "unpackDir": {
              "type": "string",
              "description": "不压缩的目录"
            }
          }
        }
      ],
      "description": "Asar配置"
    },
    "mainProcessOptions": {
      "type": "object",
      "description": "主线程编译配置",
      "properties": {
        "main": {
          "type": "string",
          "description": "入口文件路径"
        },
        "tsConfig": {
          "type": "string",
          "description": "tsconfig配置文件路径"
        }
      }
    },
    "rendererProcessOptions": {
      "type": "object",
      "description": "渲染程编编译配置",
      "properties": {
        "projects": {
          "type": "array",
          "description": "渲染线程目录(复制整个目录到编译目录)",
          "items": {
            "$ref": "#/definitions/projectPattern"
          }
        },
        "exclude": {
          "type": "array",
          "description": "忽略文件",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "projectPattern": {
      "oneOf": [
        {
          "type": "string",
          "description": "渲染线程目录"
        },
        {
          "type": "object",
          "properties": {
            "input": {
              "type": "string",
              "description": "输入目录"
            },
            "output": {
              "type": "string",
              "description": "输出目录"
            }
          },
          "required": [
            "input",
            "output"
          ]
        }
      ]
    }
  }
}
